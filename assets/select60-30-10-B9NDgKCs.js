const Kt=t=>{const n=parseInt(t.slice(1,3),16)/255,o=parseInt(t.slice(3,5),16)/255,s=parseInt(t.slice(5,7),16)/255,e=Math.max(n,o,s),r=Math.min(n,o,s);let l=0,c=0;const a=(e+r)/2;if(e!==r){const i=e-r;switch(c=a>.5?i/(2-e-r):i/(e+r),e){case n:l=(o-s)/i+(o<s?6:0);break;case o:l=(s-n)/i+2;break;case s:l=(n-o)/i+4;break}l/=6}return{h:l*360,s:c*100,l:a*100}},It=({h:t,s:n,l:o})=>{const s=o/100,r=n/100*Math.min(s,1-s),l=c=>{const a=(c+t/30)%12,i=s-r*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*i).toString(16).padStart(2,"0")};return`#${l(0)}${l(8)}${l(4)}`},L=(t,n)=>({...t,h:(t.h+n+360)%360}),m0=(t,n=9)=>{const o=Object.values(t).find(a=>Array.isArray(a)&&a.length>0);if(!o||o.length===0)return{};const s=o[0],e=Kt(s),r={analogous:a=>[L(a,-30),a,L(a,30)],complementary:a=>[a,L(a,180)],splitComplementary:a=>[a,L(a,150),L(a,210)],triadic:a=>[a,L(a,120),L(a,240)],tetradic:a=>[a,L(a,60),L(a,180),L(a,240)],square:a=>[a,L(a,90),L(a,180),L(a,270)],accentedAnalogous:a=>[L(a,-30),a,L(a,30),L(a,180)],doubleSplitComplementary:a=>[a,L(a,30),L(a,150),L(a,210),L(a,180),L(a,240)],ambiguous:a=>[L(a,15),L(a,85),L(a,145)]},l={monochromatic:(a,i)=>Array.from({length:i},(u,g)=>({...a,l:Math.max(5,Math.min(95,15+70/(i-1||1)*g))})),monochromaticTintShade:(a,i)=>Array.from({length:i},(u,g)=>({...a,s:Math.max(0,a.s-g*2),l:Math.max(5,Math.min(95,10+80/(i-1||1)*g))}))},c={harmonyPalette:o};return Object.entries(r).forEach(([a,i])=>{c[a]=i(e).map(It)}),Object.entries(l).forEach(([a,i])=>{c[a]=i(e,n).map(It)}),c},ht=t=>{const n=parseInt(t.slice(1,3),16)/255,o=parseInt(t.slice(3,5),16)/255,s=parseInt(t.slice(5,7),16)/255;return{r:n,g:o,b:s}},tn=({r:t,g:n,b:o})=>{const s=e=>Math.max(0,Math.min(255,Math.round(e*255))).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},I=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),v=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055,x=(t,n,o)=>t+(n-t)*o,it=(t,n,o)=>{const s=n-t,e=s>180?s-360:s<-180?s+360:s;return(t+e*o+360)%360},tt=t=>{const n=I(t.r),o=I(t.g),s=I(t.b),e=.4122*n+.5363*o+.0514*s,r=.2119*n+.6807*o+.1074*s,l=.0883*n+.2817*o+.63*s,c=Math.cbrt(e),a=Math.cbrt(r),i=Math.cbrt(l);return{L:.2104*c+.7936*a-.004*i,a:1.9779*c-2.4285*a+.4505*i,b:.0259*c+.7827*a-.8086*i}},$t=t=>{const n=t.L+.3963*t.a+.2158*t.b,o=t.L-.1055*t.a-.0638*t.b,s=t.L-.0894*t.a-1.2914*t.b,e=n*n*n,r=o*o*o,l=s*s*s,c=4.0767*e-3.3077*r+.2309*l,a=-1.2684*e+2.6097*r-.3413*l,i=-.0041*e-.7034*r+1.7076*l;return{r:v(c),g:v(a),b:v(i)}},nt=t=>{const n=I(t.r),o=I(t.g),s=I(t.b),e=(.4124*n+.3575*o+.1804*s)/.9504,r=.2126*n+.7151*o+.0721*s,l=(.0193*n+.1191*o+.9503*s)/1.0888,c=a=>a>.008856?Math.pow(a,1/3):7.787*a+16/116;return{L:116*c(r)-16,a:500*(c(e)-c(r)),b:200*(c(r)-c(l))}},St=t=>{const n=(t.L+16)/116,o=t.a/500+n,s=n-t.b/200,e=g=>g>.20689?g*g*g:(g-16/116)/7.787,r=e(o)*.9504,l=e(n),c=e(s)*1.0888,a=3.2404*r-1.5371*l-.4985*c,i=-.9692*r+1.8759*l+.0415*c,u=.0556*r-.204*l+1.0572*c;return{r:v(a),g:v(i),b:v(u)}},_t=t=>{const n=Math.max(t.r,t.g,t.b),o=Math.min(t.r,t.g,t.b),s=n-o;let e=0;return s!==0&&(n===t.r?e=(t.g-t.b)/s+(t.g<t.b?6:0):n===t.g?e=(t.b-t.r)/s+2:e=(t.r-t.g)/s+4),{h:e*60,s:n===0?0:s/n,v:n}},nn=({h:t,s:n,v:o})=>{const s=Math.floor(t/60)%6,e=t/60-s,r=o*(1-n),l=o*(1-e*n),c=o*(1-(1-e)*n);switch(s){case 0:return{r:o,g:c,b:r};case 1:return{r:l,g:o,b:r};case 2:return{r,g:o,b:c};case 3:return{r,g:l,b:o};case 4:return{r:c,g:r,b:o};default:return{r:o,g:r,b:l}}},g0=(t,n=9)=>{const o=Object.values(t).find(l=>Array.isArray(l));if(!o||o.length<1)return{};const s=o.length===1?[ht(o[0]),ht("#ffffff")]:o.map(ht),e={};return["lab","lch","oklab","oklch","hct","cam16","hsl","hsv","jzazbz","ipt"].forEach(l=>{const c=[];for(let a=0;a<n;a++){const u=a/(n-1)*(s.length-1),g=Math.min(Math.floor(u),s.length-2),h=u-g,m=s[g],f=s[g+1];let b;switch(l){case"oklab":{const M=tt(m),p=tt(f);b=$t({L:x(M.L,p.L,h),a:x(M.a,p.a,h),b:x(M.b,p.b,h)});break}case"oklch":{const M=tt(m),p=tt(f),F=Math.atan2(M.b,M.a)*180/Math.PI,P=Math.atan2(p.b,p.a)*180/Math.PI,d=Math.sqrt(M.a**2+M.b**2),C=Math.sqrt(p.a**2+p.b**2),S=it(F,P,h)*Math.PI/180,w=x(d,C,h);b=$t({L:x(M.L,p.L,h),a:w*Math.cos(S),b:w*Math.sin(S)});break}case"lab":{const M=nt(m),p=nt(f);b=St({L:x(M.L,p.L,h),a:x(M.a,p.a,h),b:x(M.b,p.b,h)});break}case"lch":{const M=nt(m),p=nt(f),F=Math.atan2(M.b,M.a)*180/Math.PI,P=Math.atan2(p.b,p.a)*180/Math.PI,d=Math.sqrt(M.a**2+M.b**2),C=Math.sqrt(p.a**2+p.b**2),S=it(F,P,h)*Math.PI/180,w=x(d,C,h);b=St({L:x(M.L,p.L,h),a:w*Math.cos(S),b:w*Math.sin(S)});break}case"hsl":case"hsv":{const M=_t(m),p=_t(f);b=nn({h:it(M.h,p.h,h),s:x(M.s,p.s,h),v:x(M.v,p.v,h)});break}case"ipt":case"jzazbz":case"cam16":case"hct":{b={r:v(x(I(m.r),I(f.r),h)),g:v(x(I(m.g),I(f.g),h)),b:v(x(I(m.b),I(f.b),h))};const M=Math.sin(Math.PI*h)*(l==="jzazbz"?.05:.02);b.r=Math.min(1,b.r+M);break}default:b={r:x(m.r,f.r,h),g:x(m.g,f.g,h),b:x(m.b,f.b,h)}}c.push(tn(b))}e[l]=c}),e},wt=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),O=({r:t,g:n,b:o})=>{const s=e=>Math.max(0,Math.min(255,Math.round(e*255))).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},z=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),G=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,.4166666666666667)-.055,q=(t,n,o)=>t+(n-t)*o,$=(t,n=0,o=1)=>Math.max(n,Math.min(o,t)),E={r:1,g:1,b:1},W={r:0,g:0,b:0},Pt=({r:t,g:n,b:o})=>.2126*z(t)+.7152*z(n)+.0722*z(o),_=(t,n)=>{const o=Pt(t),s=Pt(n);return(Math.max(o,s)+.05)/(Math.min(o,s)+.05)},on=(t,n)=>{const o=({r:f,g:b,b:M})=>.2126729*Math.pow(f,2.4)+.7151522*Math.pow(b,2.4)+.072175*Math.pow(M,2.4);let h=o(t),m=o(n);if(h=h>.022?h:h+Math.pow(.022-h,1.414),m=m>.022?m:m+Math.pow(.022-m,1.414),Math.abs(m-h)<5e-4)return 0;if(m>h){const f=(Math.pow(m,.56)-Math.pow(h,.57))*1.14;return f<.1?0:(f-.027)*100}else{const f=(Math.pow(m,.65)-Math.pow(h,.62))*1.14;return f>-.1?0:(f+.027)*100}},Yt=({r:t,g:n,b:o})=>{const s=Math.max(t,n,o),e=Math.min(t,n,o),r=(s+e)/2;if(s===e)return{h:0,s:0,l:r};const l=s-e,c=l/(r>.5?2-s-e:s+e);let a=0;return s===t?a=(n-o)/l+(n<o?6:0):s===n?a=(o-t)/l+2:a=(t-n)/l+4,{h:a*60,s:c,l:r}},A=({h:t,s:n,l:o})=>{const s=(1-Math.abs(2*o-1))*n,e=s*(1-Math.abs(t/60%2-1)),r=o-s/2;let l=0,c=0,a=0;return t<60?(l=s,c=e):t<120?(l=e,c=s):t<180?(c=s,a=e):t<240?(c=e,a=s):t<300?(l=e,a=s):(l=s,a=e),{r:l+r,g:c+r,b:a+r}},vt=(t,n,o,s=48)=>{if(_(t,n)>=o)return t;const e=Yt(t);let r=null;{let l=0,c=e.l;for(let a=0;a<s;a++){const i=(l+c)/2,u=A({...e,l:i});_(u,n)>=o?(r=u,c=i):l=i}}if(r&&_(r,n)>=o)return r;{let l=e.l,c=1;for(let a=0;a<s;a++){const i=(l+c)/2,u=A({...e,l:i});_(u,n)>=o?(r=u,l=i):c=i}}return r&&_(r,n)>=o?r:_(W,n)>=_(E,n)?W:E},zt=(t,n,o,s,e,r,l=48)=>{let c=r==="dark"?0:o,a=r==="dark"?o:1,i=null;for(let u=0;u<l;u++){const g=(c+a)/2,h=A({h:t,s:n,l:g});_(h,s)>=e?(i=h,r==="dark"?c=g:a=g):r==="dark"?a=g:c=g}return i&&_(i,s)>=e?i:_(W,s)>=_(E,s)?W:E},Rt=({r:t,g:n,b:o})=>{const s=z(t),e=z(n),r=z(o);return{r:G($(.29031*s+.70969*e+0*r)),g:G($(.29031*s+.70969*e+0*r)),b:G($(-.02197*s+.02197*e+1*r))}},Bt=({r:t,g:n,b:o})=>{const s=z(t),e=z(n),r=z(o);return{r:G($(.10889*s+.89111*e+0*r)),g:G($(.10889*s+.89111*e+0*r)),b:G($(.00452*s-.00452*e+1*r))}},Ot=(t,n)=>Math.sqrt((t.r-n.r)**2+(t.g-n.g)**2+(t.b-n.b)**2),sn=(t,n,o=.12)=>Ot(Rt(t),Rt(n))>o||Ot(Bt(t),Bt(n))>o,f0=(t,n=9)=>{const o=Object.values(t).find(l=>Array.isArray(l)&&l.length>0);if(!o)return{};const s=wt(o[0]),e=Yt(s),r={};r.contrastScale=Array.from({length:n},(l,c)=>{const a=c/(n-1);return O(A({h:e.h,s:e.s,l:Math.pow(a,.8)}))});{const c=Math.ceil(n/2);r.accessible=Array.from({length:n},(a,i)=>{const u=i%2===0,g=u?q(.05,.35,i/2/c):q(.88,.98,Math.floor(i/2)/c),h=A({h:e.h,s:e.s*.6,l:g}),m=A(u?{h:e.h,s:e.s*.1,l:.96}:{h:e.h,s:e.s*.8,l:.15});return O(vt(h,m,4.5))})}{const l=[{bg:E,ratio:4.5,startL:.2},{bg:E,ratio:7,startL:.1},{bg:W,ratio:4.5,startL:.8},{bg:W,ratio:7,startL:.9}];r.wcag=Array.from({length:n},(c,a)=>{const{bg:i,ratio:u,startL:g}=l[a%l.length],h=Math.floor(a/l.length),m=$(1-h*.3),f=h*(g<.5?.08:-.08),b=A({h:e.h,s:e.s*m,l:$(g+f)});return O(vt(b,i,u))})}{const l={r:1,g:1,b:1};r.apca=Array.from({length:n},(c,a)=>{const i=a/(n-1),u=q(30,90,i);let g=0,h=1;for(let m=0;m<48;m++){const f=(g+h)/2,b=A({h:e.h,s:e.s,l:f});Math.abs(on(b,l))>u?g=f:h=f}return O(A({h:e.h,s:e.s,l:(g+h)/2}))})}{const l=[202,27,56,180,291,343,120,240,30],c=[];for(let a=0;a<n;a++){const i=l[a%l.length],u=q(e.h,i,.65),g=q(.25,.75,a/Math.max(n-1,1));let h=A({h:u,s:$(e.s,.4,.85),l:g});a>0&&!sn(h,wt(c[a-1]))&&(h=A({h:u,s:e.s,l:$(g+.15)})),c.push(O(h))}r.colorBlindSafe=c}{const l=[{name:"background",l:.97,s:.08},{name:"surface",l:.93,s:.12},{name:"border",l:.8,s:.18},{name:"muted",l:.65,s:.25},{name:"default",l:.45,s:e.s},{name:"emphasis",l:.35,s:e.s},{name:"strong",l:.22,s:e.s},{name:"onColor",l:.98,s:.05},{name:"error",l:.4,s:.85,h:0},{name:"success",l:.35,s:.6,h:142}];r.colorTokenized=Array.from({length:n},(c,a)=>{const{h:i,s:u,l:g}=l[a%l.length];return O(A({h:i??e.h,s:u,l:g}))})}{const c=Math.ceil(n/2),a=n-c;r.highContrast=Array.from({length:n},(i,u)=>{if(u<c){const g=u/Math.max(c-1,1),h=q(.05,.28,g),m=$(q(e.s,0,g),0,1);return O(zt(e.h,m,h,E,7,"dark"))}else{const h=(u-c)/Math.max(a-1,1),m=q(.65,.98,h),f=$(e.s*.7,.2,.8);return O(zt(e.h,f,m,W,7,"light"))}})}return r},ut=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),mt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,J=t=>Math.max(0,Math.min(1,t)),Z=(t,n,o)=>t+(n-t)*o,en=({r:t,g:n,b:o})=>{const s=ut(t),e=ut(n),r=ut(o),l=Math.cbrt(.4122214708*s+.5363325363*e+.0514459929*r),c=Math.cbrt(.2119034982*s+.6806995451*e+.1073969566*r),a=Math.cbrt(.0883024619*s+.2817188376*e+.6299787005*r);return{L:.2104542553*l+.793617785*c-.0040720468*a,a:1.9779984951*l-2.428592205*c+.4505937099*a,b:.0259040371*l+.7827717662*c-.808675766*a}},rn=({L:t,a:n,b:o})=>{const s=t+.3963377774*n+.2158037573*o,e=t-.1055613458*n-.0638541728*o,r=t-.0894841775*n-1.291485548*o,l=s*s*s,c=e*e*e,a=r*r*r;return{r:J(mt(4.0767416621*l-3.3077115913*c+.2309699292*a)),g:J(mt(-1.2684380046*l+2.6097574011*c-.3413193965*a)),b:J(mt(-.0041960863*l-.7034186147*c+1.707614701*a))}},an=({L:t,a:n,b:o})=>({L:t,C:Math.sqrt(n*n+o*o),H:(Math.atan2(o,n)*180/Math.PI+360)%360}),cn=({L:t,C:n,H:o})=>({L:t,a:n*Math.cos(o*Math.PI/180),b:n*Math.sin(o*Math.PI/180)}),ln=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),hn=({r:t,g:n,b:o})=>{const s=e=>Math.round(e*255).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},R=t=>an(en(ln(t))),k=t=>hn(rn(cn(t))),Tt=(t,n,o)=>{let s=n-t;return s>180&&(s-=360),s<-180&&(s+=360),(t+s*o+360)%360},Ht=(t,n,o)=>({L:Z(t.L,n.L,o),C:Z(t.C,n.C,o),H:Tt(t.H,n.H,o)}),un=(t,n)=>{const o=R(t);return Array.from({length:n},(s,e)=>{const r=e/(n-1);return k({L:Z(.92,.25,r),C:o.C,H:o.H})})},mn=(t,n,o)=>{const s=R(t),e=R(n),r={L:.9,C:.02,H:s.H};return Array.from({length:o},(l,c)=>{const a=c/(o-1),i=a*2;if(a<=.5){const u={...s,L:.4};return k(Ht(u,r,i))}else{const u={...e,L:.4};return k(Ht(r,u,i-1))}})},gn=(t,n)=>{const o=R(t),s=J(Z(.55,.65,.5)),e=Math.max(o.C,.12);return Array.from({length:n},(r,l)=>{const c=(o.H+360/n*l)%360;return k({L:s,C:e,H:c})})},fn=(t,n,o)=>{const s=R(t),e=R(n),r=[{L:.85,C:s.C*.5,H:s.H},{L:.45,C:s.C,H:s.H},{L:.85,C:e.C*.5,H:e.H},{L:.45,C:Math.max(s.C,e.C),H:Tt(s.H,e.H,.5)}];return Array.from({length:o},(l,c)=>{const i=c/Math.max(o-1,1)*(r.length-1),u=Math.floor(i),g=Math.min(u+1,r.length-1);return k(Ht(r[u],r[g],i-u))})},Mn=(t,n)=>{const o=R(t),s=J(o.L>.7?o.L:.62),e=Math.max(o.C,.12);return Array.from({length:n},(r,l)=>{const c=l/n,a=(o.H+360*c)%360;return k({L:s,C:e,H:a})})},bn=(t,n)=>{const o=R(t),s=(o.H-30+360)%360,e=[0,30,60,120,180,240,280].map(c=>(c+s)%360),r=Math.max(o.C,.14),l=[.45,.6,.8,.72,.62,.5,.42];return Array.from({length:n},(c,a)=>{const u=a/(n-1)*(e.length-1),g=Math.floor(u),h=Math.min(g+1,e.length-1),m=u-g;return k({L:Z(l[g],l[h],m),C:r,H:Tt(e[g],e[h],m)})})},dn=(t,n)=>{const o=R(t),s=.3,e=.88,r=(e-s)/n;return Array.from({length:n},(l,c)=>{const a=e-r*(c+.5);return k({L:a,C:o.C*.85,H:o.H})})},M0=(t,n=4)=>{const o=t.square??[],s=o[0]??"#0000ff",e=o[1]??"#ff0000",r=o[2]??"#00ff00";return{sequential:un(s,n),diverging:mn(s,r,n),qualitative:gn(s,n),bivariate:fn(s,e,n),cyclical:Mn(s,n),spectral:bn(s,n),stepped:dn(s,n)}},gt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),X=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,y=t=>Math.max(0,Math.min(1,t)),H=(t,n,o)=>t+(n-t)*o,st=Math.PI*2,jt=({r:t,g:n,b:o})=>{const s=gt(t),e=gt(n),r=gt(o),l=Math.cbrt(.4122214708*s+.5363325363*e+.0514459929*r),c=Math.cbrt(.2119034982*s+.6806995451*e+.1073969566*r),a=Math.cbrt(.0883024619*s+.2817188376*e+.6299787005*r);return{L:.2104542553*l+.793617785*c-.0040720468*a,a:1.9779984951*l-2.428592205*c+.4505937099*a,b:.0259040371*l+.7827717662*c-.808675766*a}},Ft=({L:t,a:n,b:o})=>{const s=t+.3963377774*n+.2158037573*o,e=t-.1055613458*n-.0638541728*o,r=t-.0894841775*n-1.291485548*o,l=s*s*s,c=e*e*e,a=r*r*r;return{r:y(X(4.0767416621*l-3.3077115913*c+.2309699292*a)),g:y(X(-1.2684380046*l+2.6097574011*c-.3413193965*a)),b:y(X(-.0041960863*l-.7034186147*c+1.707614701*a))}},pn=({L:t,a:n,b:o})=>({L:t,C:Math.sqrt(n*n+o*o),H:(Math.atan2(o,n)*180/Math.PI+360)%360}),Ln=({L:t,C:n,H:o})=>({L:t,a:n*Math.cos(o*Math.PI/180),b:n*Math.sin(o*Math.PI/180)}),Gt=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),ct=({r:t,g:n,b:o})=>{const s=e=>Math.round(e*255).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},B=t=>pn(jt(Gt(t))),N=t=>ct(Ft(Ln(t))),Cn=t=>ct(Ft(t)),qt=(t,n,o)=>({L:H(t.L,n.L,o),a:H(t.a,n.a,o),b:H(t.b,n.b,o)}),Xt=t=>{let n=t>>>0;return()=>{n+=1831565813;let o=n;return o=Math.imul(o^o>>>15,o|1),o^=o+Math.imul(o^o>>>7,o|61),((o^o>>>14)>>>0)/4294967296}},Qt=t=>{let n=0;for(let o=1;o<7;o++)n=Math.imul(31,n)+parseInt(t[o],16)|0;return Math.abs(n)},ft=t=>{const n=[],o=Xt(t);for(let e=0;e<256;e++)n.push(o());const s=e=>e*e*(3-2*e);return e=>{const r=Math.floor(e)&255,l=e-Math.floor(e);return H(n[r],n[r+1&255],s(l))}},Mt=(t,n,o,s,e)=>{const r=1-e;return r*r*r*t+3*r*r*e*n+3*r*e*e*o+e*e*e*s},xn=(t,n,o,s,e)=>({L:Mt(t.L,n.L,o.L,s.L,e),a:Mt(t.a,n.a,o.a,s.a,e),b:Mt(t.b,t.b,o.b,s.b,e)}),Hn=t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,yn=t=>{let n;t>=1667&&t<=4e3?n=-266123900/(t*t*t)-234358/(t*t)+877.6956/t+.17991:n=-3025846900/(t*t*t)+21070379e-1/(t*t)+222.6347/t+.24039;let o;t>=1667&&t<=2222?o=-1.1063814*n*n*n-1.3481102*n*n+2.18555832*n-.20219683:t<=4e3?o=-.9549476*n*n*n-1.37418593*n*n+2.09137015*n-.16748867:o=3.081758*n*n*n-5.8733867*n*n+3.75112997*n-.37001483;const s=1,e=s*n/Math.max(o,1e-6),r=s*(1-n-o)/Math.max(o,1e-6),l=3.2406*e-1.5372*s-.4986*r,c=-.9689*e+1.8758*s+.0415*r,a=.0557*e-.204*s+1.057*r,i=Math.max(l,c,a,1e-6);return{r:y(X(l/i)),g:y(X(c/i)),b:y(X(a/i))}},An=(t,n=.5,o=-1.5,s=1.2,e=1)=>{const r=st*(n/3+o*t),l=Math.pow(t,e),c=s*l*(1-l)/2,a=Math.cos(r),i=Math.sin(r);return{r:y(l+c*(-.14861*a+1.78277*i)),g:y(l+c*(-.29227*a-.90649*i)),b:y(l+c*(1.97294*a))}},Tn=(t,n)=>{const o=Xt(Qt(t));return Array.from({length:n},()=>N({L:H(.35,.75,o()),C:H(.08,.2,o()),H:o()*360}))},In=(t,n)=>{const o=B(t),s=137.50776405003785;return Array.from({length:n},(e,r)=>{const l=(o.H+s*r)%360;return N({L:H(.45,.7,r%3/2),C:Math.max(o.C,.1),H:l})})},$n=(t,n)=>{const o=B(t),s=Qt(t),e=ft(s),r=ft(s+1),l=ft(s+2);return Array.from({length:n},(c,a)=>{const i=a/Math.max(n-1,1);return N({L:y(H(.35,.8,e(i*3.5))),C:y(H(.06,.22,r(i*4.1+1))),H:(o.H+l(i*2.7+2)*120-60)%360})})},Sn=(t,n)=>{const o=B(t),s=20,e=220,r=(o.H-120+360)%360;return Array.from({length:n},(l,c)=>{const a=c/(n-1),i=(H(s,e,a)+r)%360,u=.35+.45*Math.sin(a*Math.PI),g=H(.18,.12,Math.abs(a-.5)*2);return N({L:u,C:g,H:i})})},_n=(t,n)=>{const o=t.slice(0,4).map(e=>jt(Gt(e)));for(;o.length<4;)o.push({...o[o.length-1]});const s={L:(o[0].L+o[3].L)/2,a:(o[0].a+o[3].a)/2,b:(o[0].b+o[3].b)/2};return o[1]=qt(o[1],s,.35),o[2]=qt(o[2],s,.35),Array.from({length:n},(e,r)=>{const l=r/(n-1);return Cn(xn(o[0],o[1],o[2],o[3],l))})},wn=(t,n)=>{const o=B(t),s=.28,e=.88;return Array.from({length:n},(r,l)=>{const c=l/(n-1),a=Hn(c),i=H(s,e,a),u=o.C*(1-.4*Math.abs(c-.5)*2);return N({L:i,C:u,H:o.H})})},Pn=(t,n)=>{const s=B(t).H/360*3e3,e=Math.max(900,1500+s),r=Math.min(15e3,9e3+s);return Array.from({length:n},(l,c)=>{const a=c/(n-1),i=H(e,r,a);return ct(yn(i))})},vn=(t,n)=>{const o=B(t),s=[1,1];for(;s.length<n;)s.push(s[s.length-1]+s[s.length-2]);return Array.from({length:n},(e,r)=>{const l=(o.H+s[r]*47%360)%360,c=H(.4,.72,r%4/3),a=Math.max(o.C,.1);return N({L:c,C:a,H:l})})},zn=(t,n)=>{const o=B(t),s=.88,e=.28;return Array.from({length:n},(r,l)=>{const c=1/(l+1),a=1,i=1/n,u=(c-i)/(a-i),g=H(e,s,u),h=H(o.C*1.3,o.C*.5,u);return N({L:g,C:y(h),H:o.H})})},Rn=(t,n)=>{const o=B(t);return Array.from({length:n},(s,e)=>{const r=e/Math.max(n-1,1),l=.55+.25*Math.sin(st*r*1+0),c=o.C*(.7+.5*Math.sin(st*r*1.5+Math.PI/3)),a=(o.H+60*Math.sin(st*r*.75+Math.PI/6)+360)%360;return N({L:y(l),C:y(c),H:a})})},Bn=(t,n)=>{const s=B(t).H/120%3;return Array.from({length:n},(e,r)=>{const l=r/(n-1);return ct(An(l,s,-1.5,1.2,1))})},b0=(t,n=5)=>{const o=t.square??[],s=o[0]??"#0065ff",e=o[1]??"#ff0000",r=o[2]??"#00ff00",l=o[3]??"#ffff00";return{random:Tn(s,n),goldenRatio:In(s,n),noise:$n(s,n),temperature:Sn(s,n),bezierInterpolation:_n([s,e,r,l],n),easeInOut:wn(s,n),blackbody:Pn(s,n),fibonacci:vn(s,n),harmonicSeries:zn(s,n),sinusoidal:Rn(s,n),cubehelix:Bn(s,n)}},bt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),dt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,T=t=>Math.max(0,Math.min(1,t)),On=({r:t,g:n,b:o})=>{const s=bt(t),e=bt(n),r=bt(o),l=Math.cbrt(.4122214708*s+.5363325363*e+.0514459929*r),c=Math.cbrt(.2119034982*s+.6806995451*e+.1073969566*r),a=Math.cbrt(.0883024619*s+.2817188376*e+.6299787005*r);return{L:.2104542553*l+.793617785*c-.0040720468*a,a:1.9779984951*l-2.428592205*c+.4505937099*a,b:.0259040371*l+.7827717662*c-.808675766*a}},qn=({L:t,a:n,b:o})=>{const s=t+.3963377774*n+.2158037573*o,e=t-.1055613458*n-.0638541728*o,r=t-.0894841775*n-1.291485548*o,l=s*s*s,c=e*e*e,a=r*r*r;return{r:T(dt(4.0767416621*l-3.3077115913*c+.2309699292*a)),g:T(dt(-1.2684380046*l+2.6097574011*c-.3413193965*a)),b:T(dt(-.0041960863*l-.7034186147*c+1.707614701*a))}},K=(t,n)=>(t.L-n.L)**2+(t.a-n.a)**2+(t.b-n.b)**2,j=t=>Math.sqrt(t.a*t.a+t.b*t.b),kn=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),et=({r:t,g:n,b:o})=>{const s=e=>Math.round(e*255).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},D=t=>et(qn(t)),U=(t,n)=>{if(t.length>=n)return t.slice(0,n);const o=[...t],s=t[t.length-1]??{L:.5,a:0,b:0};for(;o.length<n;){const e=o.length/n;o.push({...s,L:T(.2+e*.6)})}return o},at=(t,n)=>{if(t.length>=n)return t.slice(0,n);const o=[...t];for(;o.length<n;){const s=o.length/n;o.push({r:s,g:s,b:s})}return o},Nn=(t,n=6e3)=>{const o=Math.max(1,Math.floor(t.length/4/n)),s=[],e=[];for(let r=0;r<t.length;r+=4*o){if(t[r+3]<128)continue;const l={r:t[r]/255,g:t[r+1]/255,b:t[r+2]/255};s.push(l),e.push(On(l))}return{rgbs:s,labs:e}},Dn=t=>{const o=new Uint8ClampedArray(t.length*800*4);let s=0;for(const e of t){const r=kn(e);for(let l=0;l<800;l++){const c=()=>(Math.random()-.5)*30;o[s++]=Math.round(T(r.r)*255+c()),o[s++]=Math.round(T(r.g)*255+c()),o[s++]=Math.round(T(r.b)*255+c()),o[s++]=255}}return o},lt=(t,n,o=25)=>{if(t.length===0)return[];const s=t.filter(i=>{const u=j(i);return Math.random()<=(u<.05?.2:u<.15?.6:1)}),e=s.length>=n?s:t,r=e.length,l=[e[Math.floor(Math.random()*r)]];for(let i=1;i<n;i++){const u=e.map(f=>Math.min(...l.map(b=>K(f,b)))),g=u.reduce((f,b)=>f+b,0);let h=Math.random()*g,m=0;for(let f=0;f<r;f++)if(h-=u[f],h<=0){m=f;break}l.push({...e[m]})}const c=new Int32Array(r);for(let i=0;i<o;i++){let u=!1;for(let h=0;h<r;h++){let m=0,f=1/0;for(let b=0;b<n;b++){const M=K(e[h],l[b]);M<f&&(f=M,m=b)}c[h]!==m&&(c[h]=m,u=!0)}if(!u)break;const g=Array.from({length:n},()=>({L:0,a:0,b:0,count:0}));for(let h=0;h<r;h++){const m=c[h];g[m].L+=e[h].L,g[m].a+=e[h].a,g[m].b+=e[h].b,g[m].count++}for(let h=0;h<n;h++)g[h].count>0&&(l[h]={L:g[h].L/g[h].count,a:g[h].a/g[h].count,b:g[h].b/g[h].count})}const a=new Array(n).fill(0);for(let i=0;i<r;i++)a[c[i]]++;return U(l.map((i,u)=>({lab:i,score:a[u]*(1+3*j(i))})).sort((i,u)=>u.score-i.score).map(i=>i.lab),n)},En=(t,n)=>{if(t.length===0)return at([],n);const o=[{pixels:[...t]}],s=e=>{let r=1,l=0,c=1,a=0,i=1,u=0;for(const m of e.pixels)r=Math.min(r,m.r),l=Math.max(l,m.r),c=Math.min(c,m.g),a=Math.max(a,m.g),i=Math.min(i,m.b),u=Math.max(u,m.b);const g=l-r>=a-c&&l-r>=u-i?"r":a-c>=u-i?"g":"b";e.pixels.sort((m,f)=>m[g]-f[g]);const h=Math.floor(e.pixels.length/2);return[{pixels:e.pixels.slice(0,h)},{pixels:e.pixels.slice(h)}]};for(;o.length<n&&(o.sort((l,c)=>c.pixels.length-l.pixels.length),!(o[0].pixels.length<2));){const[e,r]=s(o.shift());o.push(e,r)}return at(o.map(e=>{const r=e.pixels.length;return{r:e.pixels.reduce((l,c)=>l+c.r,0)/r,g:e.pixels.reduce((l,c)=>l+c.g,0)/r,b:e.pixels.reduce((l,c)=>l+c.b,0)/r}}),n)},Wn=(t,n)=>{const o=new Map;for(const s of t){const e=Math.round(s.r*7)/7,r=Math.round(s.g*7)/7,l=Math.round(s.b*7)/7,c=`${e},${r},${l}`,a=o.get(c);a?a.count++:o.set(c,{rgb:{r:e,g:r,b:l},count:1})}return at(Array.from(o.values()).sort((s,e)=>e.count-s.count).slice(0,n).map(s=>s.rgb),n)},Yn=(t,n)=>{const o=t.filter(s=>j(s)>.1&&s.L>.25&&s.L<.85);return lt(o.length>=n?o:t,n)},jn=(t,n)=>{const o=t.filter(s=>{const e=j(s);return e>=.02&&e<=.09&&s.L>.2&&s.L<.9});return lt(o.length>=n?o:t,n)},Fn=(t,n)=>{const o=()=>({r:0,g:0,b:0,count:0,children:new Array(8).fill(null),isLeaf:!1}),s=o(),e=(c,a,i,u,g)=>{if(g===8){c.isLeaf=!0,c.r+=a,c.g+=i,c.b+=u,c.count++;return}const h=7-g,m=(a>>h&1)<<2|(i>>h&1)<<1|u>>h&1;c.children[m]||(c.children[m]=o()),e(c.children[m],a,i,u,g+1)},r=c=>c.isLeaf&&c.count>0?[c]:c.children.filter(Boolean).flatMap(a=>r(a));for(const c of t)e(s,Math.round(c.r*255),Math.round(c.g*255),Math.round(c.b*255),0);let l=r(s);for(;l.length>n;)l.sort((c,a)=>c.count-a.count),l[0].count=0,l=r(s);return at(l.filter(c=>c.count>0).sort((c,a)=>a.count-c.count).slice(0,n).map(c=>({r:T(c.r/c.count/255),g:T(c.g/c.count/255),b:T(c.b/c.count/255)})),n)},Gn=(t,n)=>{if(t.length===0)return U([],n);const o=t.length,s=t.reduce((h,m)=>h+m.L,0)/o,e=t.reduce((h,m)=>h+m.a,0)/o,r=t.reduce((h,m)=>h+m.b,0)/o,l=Math.sqrt(t.reduce((h,m)=>h+(m.L-s)**2,0)/o),c=Math.sqrt(t.reduce((h,m)=>h+(m.a-e)**2,0)/o),a=Math.sqrt(t.reduce((h,m)=>h+(m.b-r)**2,0)/o),i=Math.cbrt(t.reduce((h,m)=>h+(m.L-s)**3,0)/o),u=Math.cbrt(t.reduce((h,m)=>h+(m.a-e)**3,0)/o),g=Math.cbrt(t.reduce((h,m)=>h+(m.b-r)**3,0)/o);return Array.from({length:n},(h,m)=>{const f=n===1?0:m/(n-1)*2-1;return{L:T(s+f*l+(f*f-1/3)*i*.3),a:T(e+f*c+(f*f-1/3)*u*.3),b:T(r+f*a+(f*f-1/3)*g*.3)}})},Xn=(t,n)=>{if(t.length<n)return U(lt(t,t.length),n);const o=Array.from({length:n},(c,a)=>({...t[Math.floor(a/n*t.length)]})),s=.4,e=Math.min(t.length,4e3),r=Math.max(1,Math.floor(t.length/e));for(let c=0;c<e;c++){const a=t[c*r%t.length],i=s*(1-c/e);let u=0,g=1/0;for(let m=0;m<n;m++){const f=K(a,o[m]);f<g&&(g=f,u=m)}const h=Math.max(1,Math.round(n/4*(1-c/e)));for(let m=0;m<n;m++){const f=Math.abs(m-u);if(f>h)continue;const b=i*Math.exp(-(f*f)/(2*h*h));o[m].L+=b*(a.L-o[m].L),o[m].a+=b*(a.a-o[m].a),o[m].b+=b*(a.b-o[m].b)}}const l=[];for(const c of o)l.some(a=>K(a,c)<5e-4)||l.push(c);return U(l,n)},Qn=(t,n)=>{const s=Array.from({length:72},()=>({sumL:0,sumC:0,count:0}));for(const u of t){const g=(Math.atan2(u.b,u.a)*180/Math.PI+360)%360,h=Math.floor(g/(360/72))%72;s[h].sumL+=u.L,s[h].sumC+=j(u),s[h].count++}const e=s.map((u,g)=>({count:(s[(g-1+72)%72].count+s[g].count+s[(g+1)%72].count)/3,idx:g})),r=[];for(let u=0;u<72;u++)e[u].count>e[(u-1+72)%72].count&&e[u].count>=e[(u+1)%72].count&&s[u].count>0&&r.push(u);r.sort((u,g)=>e[g].count-e[u].count);const l=r.slice(0,n),c=[...e].sort((u,g)=>g.count-u.count);let a=0;for(;l.length<n&&a<72;)!l.includes(c[a].idx)&&s[c[a].idx].count>0&&l.push(c[a].idx),a++;let i=0;for(;l.length<n;)l.push(i),i+=Math.floor(72/n);return l.slice(0,n).map(u=>{const g=u/72*360+2.5,h=s[u].count>0?s[u].sumL/s[u].count:.5,m=s[u].count>0?s[u].sumC/s[u].count:.12,f=g*Math.PI/180;return{L:h,a:m*Math.cos(f),b:m*Math.sin(f)}})},Un=(t,n)=>{if(t.length===0)return U([],n);const s=Math.max(1,Math.floor(t.length/2e3)),e=t.filter((c,a)=>a%s===0),l=[e.reduce((c,a)=>j(a)>j(c)?a:c)];for(;l.length<n;){let c=e[0],a=-1/0;for(const i of e){const u=l.reduce((g,h)=>Math.min(g,K(i,h)),1/0);u>a&&(a=u,c=i)}if(a===0)break;l.push(c)}return U(l,n)},d0=(t,n=6,o)=>{const s=Dn(t.square??["#888888"]),{rgbs:e,labs:r}=Nn(s);if(r.length===0){const l=Array(n).fill("#000000");return{kmeans:l,medianCut:l,dominant:l,vibrant:l,muted:l,octree:l,colorMoments:l,neuralQuant:l,histogram:l,deltaE:l}}return{kmeans:lt(r,n).map(D),medianCut:En(e,n).map(et),dominant:Wn(e,n).map(et),vibrant:Yn(r,n).map(D),muted:jn(r,n).map(D),octree:Fn(e,n).map(et),colorMoments:Gn(r,n).map(D),neuralQuant:Xn(r,n).map(D),histogram:Qn(r,n).map(D),deltaE:Un(r,n).map(D)}},pt=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4),Lt=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,Y=t=>Math.max(0,Math.min(1,t)),Ut=(t,n,o)=>t+(n-t)*o,Vn=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),kt=({r:t,g:n,b:o})=>{const s=e=>Math.round(Y(e)*255).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},Jn=({r:t,g:n,b:o})=>{const s=pt(t),e=pt(n),r=pt(o),l=Math.cbrt(.4122214708*s+.5363325363*e+.0514459929*r),c=Math.cbrt(.2119034982*s+.6806995451*e+.1073969566*r),a=Math.cbrt(.0883024619*s+.2817188376*e+.6299787005*r);return{L:.2104542553*l+.793617785*c-.0040720468*a,a:1.9779984951*l-2.428592205*c+.4505937099*a,b:.0259040371*l+.7827717662*c-.808675766*a}},yt=({L:t,a:n,b:o})=>{const s=t+.3963377774*n+.2158037573*o,e=t-.1055613458*n-.0638541728*o,r=t-.0894841775*n-1.291485548*o,l=s*s*s,c=e*e*e,a=r*r*r;return{r:Lt(4.0767416621*l-3.3077115913*c+.2309699292*a),g:Lt(-1.2684380046*l+2.6097574011*c-.3413193965*a),b:Lt(-.0041960863*l-.7034186147*c+1.707614701*a)}},Nt=t=>{const{r:n,g:o,b:s}=yt(t);return{r:Y(n),g:Y(o),b:Y(s)}},Zn=({L:t,a:n,b:o})=>({L:t,C:Math.sqrt(n*n+o*o),H:(Math.atan2(o,n)*180/Math.PI+360)%360}),ot=({L:t,C:n,H:o})=>({L:t,a:n*Math.cos(o*Math.PI/180),b:n*Math.sin(o*Math.PI/180)}),Kn=t=>Zn(Jn(Vn(t))),V=t=>{const n=r=>r.r>=-.001&&r.r<=1.001&&r.g>=-.001&&r.g<=1.001&&r.b>=-.001&&r.b<=1.001,o=yt(ot(t));if(n(o))return kt(Nt(ot(t)));let s=0,e=t.C;for(let r=0;r<24;r++){const l=(s+e)/2;n(yt(ot({...t,C:l})))?s=l:e=l}return kt(Nt(ot({...t,C:s})))},t0={harmonypalette:[0,150,210],analogous:[-30,0,30],complementary:[0,180],splitcomplementary:[0,150,210],triadic:[0,120,240],tetradic:[0,60,180,240],square:[0,90,180,270],accentedanalogous:[-30,0,30,180],doublesplitcomplementary:[0,30,150,180,210,330],ambiguous:[15,135,255]},n0=[{match:t=>t.includes("neutrallight")||t.includes("neutral")&&t.includes("light"),apply:t=>({...t,L:.93,C:Math.min(t.C*.08,.015)})},{match:t=>t.includes("neutraldark")||t.includes("neutral")&&t.includes("dark"),apply:t=>({...t,L:.1,C:Math.min(t.C*.08,.015)})},{match:t=>t.includes("neutral"),apply:t=>({...t,L:.55,C:Math.min(t.C*.06,.012)})},{match:t=>t.endsWith("shade")||t.includes("colorshade"),apply:t=>({...t,L:.3,C:t.C})},{match:t=>t.endsWith("dark"),apply:t=>({...t,L:.22,C:t.C})},{match:t=>t.endsWith("light")||t.endsWith("tint"),apply:t=>({...t,L:.88,C:t.C*.5})},{match:t=>t.startsWith("accent"),apply:t=>({...t,L:.62,C:Math.max(t.C,.22)})},{match:t=>t.startsWith("main")||t.startsWith("primary")||t.startsWith("brand"),apply:t=>({...t,L:.52,C:Math.max(t.C,.22)})},{match:t=>t.startsWith("background")||t.startsWith("bg"),apply:t=>({...t,L:.97,C:Math.min(t.C*.08,.012)})},{match:t=>t.startsWith("surface"),apply:t=>({...t,L:.91,C:Math.min(t.C*.18,.025)})},{match:t=>t.startsWith("foreground")||t.startsWith("text")||t.startsWith("on"),apply:t=>({...t,L:.18,C:Math.min(t.C*.12,.02)})}],o0=(t,n,o)=>{const s=t.toLowerCase().replace(/[^a-z]/g,"");if(o>1){if(s.includes("tintshade"))return Dt(n,o);if(s.includes("monochromatic"))return r0(n,o);if(s.includes("tint")||s.includes("shade"))return Dt(n,o);const e=t0[s];return e?s0(n,e,o):e0(n,o)}for(const{match:e,apply:r}of n0)if(e(s))return[V(r(n))];return[V({...n,L:.55,C:Math.max(n.C,.18)})]},s0=(t,n,o)=>Array.from({length:o},(s,e)=>{const r=n[e%n.length],l=Math.floor(e/n.length)*.08;return V({...t,L:Y(t.L-l),H:(t.H+r+360)%360})}),e0=(t,n)=>Array.from({length:n},(o,s)=>V({...t,H:(t.H+360/n*s)%360})),r0=(t,n)=>Array.from({length:n},(o,s)=>{const e=s/Math.max(n-1,1),r=Ut(.12,.94,e),l=t.C*Y(1-Math.pow(Math.abs(e-.45),2.5));return V({L:r,C:l,H:t.H})}),Dt=(t,n)=>Array.from({length:n},(o,s)=>{const e=s/Math.max(n-1,1),r=e<.5?.5*Math.pow(e*2,1.6):1-.5*Math.pow((1-e)*2,1.4),l=Ut(.1,.96,r),c=t.C*Y(1-Math.pow((e-.4)/.7,2)*.6);return V({L:l,C:c,H:t.H})}),a0=/^#[0-9a-fA-F]{6}$/,c0=t=>{for(const n of t)if(a0.test(n))return n;return"#ff0000"},p0=t=>Object.fromEntries(Object.entries(t).map(([n,o])=>{const s=c0(o),e=Kn(s);return[n,o0(n,e,o.length)]})),Q=t=>t<=.04045?t/12.92:((t+.055)/1.055)**2.4,Ct=t=>t<=.0031308?12.92*t:1.055*t**(1/2.4)-.055,rt=t=>t<0?0:t>1?1:t,l0=(t,n,o)=>{const s=Q(t),e=Q(n),r=Q(o),l=Math.cbrt(.4122214708*s+.5363325363*e+.0514459929*r),c=Math.cbrt(.2119034982*s+.6806995451*e+.1073969566*r),a=Math.cbrt(.0883024619*s+.2817188376*e+.6299787005*r);return{L:.2104542553*l+.793617785*c-.0040720468*a,a:1.9779984951*l-2.428592205*c+.4505937099*a,b:.0259040371*l+.7827717662*c-.808675766*a}},h0=(t,n,o)=>{const s=t+.3963377774*n+.2158037573*o,e=t-.1055613458*n-.0638541728*o,r=t-.0894841775*n-1.291485548*o,l=s*s*s,c=e*e*e,a=r*r*r;return{r:rt(Ct(4.0767416621*l-3.3077115913*c+.2309699292*a)),g:rt(Ct(-1.2684380046*l+2.6097574011*c-.3413193965*a)),b:rt(Ct(-.0041960863*l-.7034186147*c+1.707614701*a))}},Vt=t=>{if(typeof t!="string")throw new TypeError(`Color must be a string, got ${typeof t}: ${JSON.stringify(t)}`);const n=t.trim().replace(/^#/,"").toLowerCase();if(/^[0-9a-f]{3}$/.test(n))return"#"+n[0]+n[0]+n[1]+n[1]+n[2]+n[2];if(/^[0-9a-f]{6}$/.test(n))return"#"+n;throw new RangeError(`Invalid hex color: "${t}" — expected "#rgb" or "#rrggbb"`)},Jt=t=>({r:parseInt(t.slice(1,3),16)/255,g:parseInt(t.slice(3,5),16)/255,b:parseInt(t.slice(5,7),16)/255}),i0=(t,n,o)=>{const s=e=>Math.round(rt(e)*255).toString(16).padStart(2,"0");return`#${s(t)}${s(n)}${s(o)}`},Et=t=>{const{r:n,g:o,b:s}=Jt(t),e=l0(n,o,s);return{L:e.L,C:Math.sqrt(e.a*e.a+e.b*e.b),H:(Math.atan2(e.b,e.a)*180/Math.PI+360)%360}},xt=(t,n,o)=>{const s=o*Math.PI/180,{r:e,g:r,b:l}=h0(t,n*Math.cos(s),n*Math.sin(s));return i0(e,r,l)},Wt=(t,n)=>{const o=Math.abs(t-n)%360;return o>180?360-o:o},At=(t,n)=>{const o=r=>{const{r:l,g:c,b:a}=Jt(Vt(r));return .2126*Q(l)+.7152*Q(c)+.0722*Q(a)},s=o(t),e=o(n);return(Math.max(s,e)+.05)/(Math.min(s,e)+.05)},u0=t=>At(t,"#ffffff")>=At(t,"#111111")?"#ffffff":"#111111";function L0(t,n={}){if(!Array.isArray(t)||t.length===0)throw new TypeError("palette must be a non-empty array of hex color strings");const o={neutralChromaMax:n.neutralChromaMax??.06,mainLightnessMin:n.mainLightnessMin??.4,mainLightnessMax:n.mainLightnessMax??.72,shadeHueTolerance:n.shadeHueTolerance??30,accentHueMin:n.accentHueMin??100,derivedDarkL:n.derivedDarkL??.2,derivedDarkC:n.derivedDarkC??.035},s=t.map(d=>{const C=Vt(d);return{hex:C,lch:Et(C)}}),e=s.filter(d=>d.lch.C<o.neutralChromaMax),r=(e.length>0?e:s).slice().sort((d,C)=>C.lch.L-d.lch.L)[0],l=s.filter(d=>d.lch.L>=o.mainLightnessMin&&d.lch.L<=o.mainLightnessMax),c=(l.length>0?l:s).slice().sort((d,C)=>C.lch.C-d.lch.C)[0],a=e.filter(d=>d.lch.L<.35&&d.hex!==r.hex);let i,u;a.length>0?(i=a.slice().sort((d,C)=>d.lch.L-C.lch.L)[0].hex,u=!1):(i=xt(o.derivedDarkL,o.derivedDarkC,c.lch.H),u=!0);const g=new Set([r.hex,c.hex]),h=s.filter(d=>!g.has(d.hex));let m,f=!1;if(h.length>0){const d=h.filter(C=>Wt(C.lch.H,c.lch.H)<o.shadeHueTolerance&&C.lch.C>.1);m=(d.length>0?d:h).slice().sort((C,S)=>S.lch.C-C.lch.C)[0].hex}else m=xt(Math.max(.05,c.lch.L-.08),c.lch.C*.92,c.lch.H),f=!0;const b=new Set([r.hex,c.hex,m]),M=s.filter(d=>!b.has(d.hex));let p,F=!1;if(M.length>0){const d=M.filter(C=>Wt(C.lch.H,c.lch.H)>=o.accentHueMin);p=(d.length>0?d:M).slice().sort((C,S)=>S.lch.C-C.lch.C)[0].hex}else p=xt(.72,Math.min(c.lch.C,.18),(c.lch.H+150)%360),F=!0;const P=(d,C,S,w,Zt=!1)=>({hex:w,role:d,label:C,weight:S,derived:Zt,lch:Et(w),textColor:u0(w),contrast:parseFloat(At(w,r.hex).toFixed(2))});return{neutralLight:P("neutralLight","Neutral Light","60%",r.hex),neutralDark:P("neutralDark","Neutral Dark","—",i,u),mainColor:P("mainColor","Main Color","30%",c.hex),mainColorShade:P("mainColorShade","Main Color Shade","—",m,f),accentColor:P("accentColor","Accent Color","10%",p,F)}}export{m0 as a,g0 as b,f0 as c,M0 as d,b0 as e,d0 as f,p0 as g,L0 as s};
